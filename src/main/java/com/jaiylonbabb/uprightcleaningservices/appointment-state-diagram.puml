@startuml
  participant User
  participant SpringBootApp
  participant AuthenticationProvider
  participant EmailService

  User -> SpringBootApp: Accesses Index Page
  activate SpringBootApp
  SpringBootApp --> User: Shows Index Page
  deactivate SpringBootApp

  User -> SpringBootApp: Accesses Create Appointment Page
  activate SpringBootApp
  alt Not Authenticated
    SpringBootApp --> User: Requires Login (redirect to Login Page)
  else Authenticated
    activate SpringBootApp
    SpringBootApp -> User: Shows Create Appointment Page
  end
  deactivate SpringBootApp

  User -> SpringBootApp: Submits Registration Form
  activate SpringBootApp
  alt Registration Successful
    SpringBootApp --> User: Registration Successful (redirect to Login Page)
  else Registration Failed
    SpringBootApp --> User: Registration Failed (show error message)
  end
  deactivate SpringBootApp

  User -> SpringBootApp: Submits Login Form
  activate SpringBootApp
  alt Login Successful
    SpringBootApp --> User: Login Successful (redirect to Profile Page)
  else Login Failed
    SpringBootApp --> User: Login Failed (show error message)
  end
  deactivate SpringBootApp

  User -> SpringBootApp: Accesses Profile Page
  activate SpringBootApp
  alt Authenticated
    SpringBootApp --> User: Shows Profile Page (with Appointment Creation option)
  else Not Authenticated
    SpringBootApp --> User: Requires Login (redirect to Login Page)
  end
  deactivate SpringBootApp

  User -> SpringBootApp: Submits Create Appointment Form
  activate SpringBootApp
  alt Appointment Created
    SpringBootApp -> EmailService: Send Appointment Confirmation Email (User Email)
    activate EmailService
    EmailService --> SpringBootApp: Email Sent Successfully
    deactivate EmailService
    SpringBootApp --> User: Appointment Created (show confirmation and details on Profile Page)
  else Appointment Creation Failed
    SpringBootApp --> User: Appointment Creation Failed (show error message)
  end
  deactivate SpringBootApp
@enduml